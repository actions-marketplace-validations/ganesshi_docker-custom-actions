name: Test My Docker Action

# This workflow will run on every push to the main branch
# or when manually triggered from the Actions tab.
on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  run-custom-docker-action:
    runs-on: ubuntu-latest
    name: A job to greet and show time
    
    steps:
      # Step 1: Check out the repository so the runner can access the action files
      - name: Checkout Repository
        uses: actions/checkout@v4

      # Step 2: Run your custom action
      # 'uses: ./' tells GitHub to look for action.yml in the root of the current repo
      - name: Run Greeting Action
        id: hello_step
        uses: ./. 
        with:
          my_name: 'GitHub Explorer'

      # Step 3: Print the output generated by the Docker container
      - name: Show the Output
        run: echo "The greeting happened at ${{ steps.hello_step.outputs.time }}"
